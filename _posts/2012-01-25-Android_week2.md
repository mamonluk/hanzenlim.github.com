---
layout: post
title: Android Week#2
---

{{ page.title }}
================

<p class="meta">22 Nov 2011 - San Francisco</p>

* 1.5 obsolete
* 2.1 2.2 2.3 are good version
*Android - there are two separate package - SDK starter package(install this first), SDK components(install this second)
* Install SDK starter package in C:\Google or C:\Android
* http://developer.android.com/sdk
* install eclipse 3.6
* after installing SDK - tool folder will be created, inside there is a program called android, type in <code>android</code> then a window will open

</br>
#Eclipse plugins for Android - need to install ADT
1. Help -> install new software -> Available SOftware
2. Android Development Tools for Name
3. http://dl-ssl.google.com/android/eclipse
4. After installing plugin you need to specify where android folder is i.e. window -> preference -> Android

</br>
#Creating new project
After creating a new project - you need to create AVD=andriod virtual device

* Remem if you are not using eclipse to compile your android you need to install ant - ant is created to compile java programs, this is the same as make in c/c++ 
	* ant uses xml
	
* Remem Android does not use JVM instead it uses dalvik compiler
* `JAVA_HOME` variable will show you where java is installed
* Create variable `ANT_HOME` and point it to ant directory
* create PATH = $PATH:$JAVA_HOME/bin:$ANT_HOME/bin

</br>
#Creating AVD
* (In eclipse) Window -> Andoird SDK -> AVD manager
	* pick a name for emulator - like em22, em16
* Another way of creating AVD (command line)
	*in tools folder type "android". then window will pop out

</br>
#Creating Project in eclipse
* Go to File -> new -> project -> Android -> android project
* project name:
* use default location
* Build Target, Select 2.3 9(API LEVEL),  Application name, package name
* create activity:______
* minimum SDK version ______

</br>
#Creating new project in command line
* `android create project --target9 --path /mypath/dir --activity Now --package my.Now --name my_prog`
* cd /mypath/dir
* `ant install`
* creating avd `andorid create avd -n em22 -t 9` 9 is the API level
* running the emulator `emulator -avd em22`

</br>
#Overview of the src in Android Project
Inside the gen subdirectory it contains the following

* `R.java` - this is automatically created, contains information about layourt file,xml, do not edit this file
* `assets` - this is where you put all your file, like program
* `res` - this contains the resoruces of you applications
	* `drawable` - contains images -JPEG, PNG
	* `anim` - subdirectory
	* `layout` - GUI
	* `menu` - contain xml
	* `values` - contains strings.xml - strings.xml contains all the string variable, arrays.xml, colors.xml, styles.xml
* `raw` - this contains additional data none of them are xml file
	*this is where you put non xml file like data file
* `bin` - this contains all your jar files
* `libs` - contains the class files
* `bin/classes.dex` - contains the dex file which is the executable for android device

#Sample Program

{% highlight java %}
//name HelloCS211D.java
package com.cs211d
import android.app.Activity
import android.os.Bundle

public class Hellocs211d extends Activity
{
	//called when activity is first created
	@Override
	public void onCreate(Bundle savedInstanceState)
	{
		super.onCreate(savedInstanceState)
		setContentView(R.layout.main);
		//there is an xml file in layout folder - res/layout/main.xml
		//later on we are going to use R.layout.string
	}
}
{% endhighlight %}

Inside main.xml
{% highlight java %}
<? xml version-"1.0" encoding-"utf-8">
<!-- Author: John Lin -->
<!-- course: cs211d -->
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
	android:orientation="vertical"
	android:layout_width="fill_parent" //or wrap_content
	android:layout_height="fill_parent"
>
<TextView
	android:layout_width="fill_parent"
	andorid:layout_height="wrap_content"
	android:text="HelloWorld, Hello cs211d"  
	//recommend do not hard code your string instead put it in string.xml
/>
</LinearLayout>

{% endhighlight %}		


